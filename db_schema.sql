DROP TABLE Tracks;
DROP TABLE Albums;
DROP TABLE Users;

CREATE TABLE Users (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(50) NOT NULL,
    email VARCHAR(100)
);

CREATE TABLE Albums (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_id INTEGER NOT NULL,
    title VARCHAR(100) NOT NULL,
    artist VARCHAR(100),
    genre VARCHAR(50),
    year INTEGER,
    FOREIGN KEY (user_id) REFERENCES Users(id)
);

CREATE TABLE Tracks (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    album_id INTEGER NOT NULL,
    title VARCHAR(100) NOT NULL,
    duration VARCHAR(10),
    FOREIGN KEY (album_id) REFERENCES Albums(id)
);

COMMIT;
